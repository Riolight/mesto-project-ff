{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/webpack/bootstrap","webpack://mesto-project-ff/webpack/runtime/define property getters","webpack://mesto-project-ff/webpack/runtime/hasOwnProperty shorthand","webpack://mesto-project-ff/./src/components/api.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/components/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export {\n  getUserInfo,\n  getInitialCards,\n  updateUserInfo,\n  updateUserAvatar,\n  postAddNewCard,\n  handlerDeleteCard,\n  addLike,\n  deleteLike,\n};\n\nconst config = {\n  baseUrl: 'https://nomoreparties.co/v1/wff-cohort-18',\n  headers: {\n    authorization: 'bd5bec3d-633a-49cb-9f54-22ded73cd96e',\n    'Content-Type': 'application/json',\n  },\n};\n\nconst handleRes = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n};\n\n// GET-запрос информации о пользователе\nconst getUserInfo = () => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    headers: config.headers,\n  }).then(handleRes);\n};\n\n// GET-запрос вывода карточек на страницу\nconst getInitialCards = () => {\n  return fetch(`${config.baseUrl}/cards`, {\n    headers: config.headers,\n  }).then(handleRes);\n};\n\n// PATCH-запрос редактирования карточки\nconst updateUserInfo = (userInfo) => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    method: 'PATCH',\n    headers: config.headers,\n    body: JSON.stringify({\n      name: userInfo.name,\n      about: userInfo.about,\n    }),\n  }).then(handleRes);\n};\n\n// PATCH-запрос обновления аватара\nconst updateUserAvatar = (link) => {\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: config.headers,\n    body: JSON.stringify({\n      avatar: link.link,\n    }),\n  }).then(handleRes);\n};\n\n// POST-запрос добавления карточки\nconst postAddNewCard = (dataCard) => {\n  return fetch(`${config.baseUrl}/cards`, {\n    method: 'POST',\n    headers: config.headers,\n    body: JSON.stringify(dataCard),\n  }).then(handleRes);\n};\n\n// DELETE-запрос удаления карточки\nconst handlerDeleteCard = (cardId) => {\n  return fetch(`${config.baseUrl}/cards/${cardId}`, {\n    method: 'DELETE',\n    headers: config.headers,\n  }).then(handleRes);\n};\n\n// PUT-запрос добавления лайка\nconst addLike = (cardId) => {\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\n    method: 'PUT',\n    headers: config.headers,\n  }).then(handleRes);\n};\n\n// DELETE-запрос удаления лайка\nconst deleteLike = (cardId) => {\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\n    method: 'DELETE',\n    headers: config.headers,\n  }).then(handleRes);\n};\n","import { cardTemplate } from '../index.js';\nimport { addLike, deleteLike } from './api.js';\nexport { createCard, likeCard };\n\n// @todo: Функция создания карточки\nconst createCard = ({\n  userId,\n  dataCard,\n  confirmDeleteCard,\n  likeCard,\n  openPopupImage,\n}) => {\n  const cardElement = cardTemplate\n    .querySelector('.places__item')\n    .cloneNode(true);\n  const cardImage = cardElement.querySelector('.card__image');\n  const deleteButton = cardElement.querySelector('.card__delete-button');\n  const likeButton = cardElement.querySelector('.card__like-button');\n  const counterLikes = cardElement.querySelector('.card__counter-like');\n\n  cardElement.id = dataCard['_id'];\n\n  cardElement.querySelector('.card__title').textContent = dataCard.name;\n  cardImage.src = dataCard.link;\n  cardImage.alt = dataCard.name;\n  counterLikes.textContent = dataCard.likes.length;\n\n  const isLiked = dataCard.likes.some((like) => like._id === userId);\n  if (isLiked) {\n    likeButton.classList.add('card__like-button_is-active');\n  }\n\n  if (dataCard.owner._id === userId) {\n    deleteButton.addEventListener('click', (evt) => {\n      confirmDeleteCard(dataCard._id);\n    });\n  } else {\n    deleteButton.remove();\n  }\n\n  likeButton.addEventListener('click', (evt) => {\n    likeCard(evt, dataCard._id, counterLikes);\n  });\n\n  cardImage.addEventListener('click', () => {\n    openPopupImage(dataCard.name, dataCard.link);\n  });\n  return cardElement;\n};\n\n// @todo: Функция лайка\nconst likeCard = (evt, cardId, counterLikes) => {\n  if (evt.target.classList.contains('card__like-button_is-active')) {\n    deleteLike(cardId)\n      .then((updatedCard) => {\n        evt.target.classList.remove('card__like-button_is-active');\n        counterLikes.textContent = updatedCard.likes.length;\n      })\n      .catch((err) => {\n        console.log('ошибка удаления лайка:', err);\n      });\n  } else {\n    addLike(cardId)\n      .then((updatedCard) => {\n        evt.target.classList.add('card__like-button_is-active');\n        counterLikes.textContent = updatedCard.likes.length;\n      })\n      .catch((err) => {\n        console.log('ошибка удобавления лайка:', err);\n      });\n  }\n};\n","export { openPopup, closePopup };\n\n// @todo: Открытие попапа\nfunction openPopup(popup) {\n  popup.classList.add('popup_is-opened');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', closeEscPopup);\n}\n\n// @todo: Закрытие попапа\nfunction closePopup(popup) {\n  popup.classList.remove('popup_is-opened');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', closeEscPopup);\n}\n\n// @todo: Закрытие попапа ESC\nfunction closeEscPopup(evt) {\n  if (evt.code === 'Escape') {\n    const modal = document.querySelector('.popup_is-opened');\n    closePopup(modal);\n  }\n}\n","export { enableValidation, clearValidation };\n\n// @todo: Показать ошибки\nconst showInputError = (\n  formElement,\n  inputElement,\n  errorMessage,\n  configValidation\n) => {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.add(configValidation.inputErrorClass);\n  if (inputElement.validity.valueMissing) {\n    errorElement.textContent = 'Вы пропустили это поле';\n  } else {\n    errorElement.textContent = errorMessage;\n  }\n  errorElement.classList.add(configValidation.errorClass);\n};\n\n// @todo: Спрятать ошибки\nconst hideInputError = (formElement, inputElement, configValidation) => {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.remove(configValidation.inputErrorClass);\n  errorElement.classList.remove(configValidation.errorClass);\n  errorElement.textContent = '';\n};\n\n// @todo: Валидация формы\nconst checkInputValidity = (formElement, inputElement, configValidation) => {\n  if (inputElement.validity.patternMismatch) {\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\n  } else {\n    inputElement.setCustomValidity('');\n  }\n\n  if (!inputElement.validity.valid) {\n    showInputError(\n      formElement,\n      inputElement,\n      inputElement.validationMessage,\n      configValidation\n    );\n  } else {\n    hideInputError(formElement, inputElement, configValidation);\n  }\n};\n\nconst hasInvalidInput = (inputList) => {\n  return inputList.some((inputElement) => {\n    return !inputElement.validity.valid;\n  });\n};\n\nconst toggleButtonState = (inputList, buttonElement, configValidation) => {\n  if (hasInvalidInput(inputList)) {\n    buttonElement.classList.add(configValidation.inactiveButtonClass);\n    buttonElement.setAttribute('disabled', true);\n  } else {\n    buttonElement.classList.remove(configValidation.inactiveButtonClass);\n    buttonElement.removeAttribute('disabled', false);\n  }\n};\n\nconst setEventListeners = (formElement, configValidation) => {\n  const inputList = Array.from(\n    formElement.querySelectorAll(configValidation.inputSelector)\n  );\n  const buttonElement = formElement.querySelector(\n    configValidation.submitButtonSelector\n  );\n  toggleButtonState(inputList, buttonElement, configValidation);\n  inputList.forEach((inputElement) => {\n    inputElement.addEventListener('input', function () {\n      checkInputValidity(formElement, inputElement, configValidation);\n      toggleButtonState(inputList, buttonElement, configValidation);\n    });\n  });\n};\n\nconst enableValidation = (configValidation) => {\n  const inputForm = Array.from(\n    document.querySelectorAll(configValidation.formSelector)\n  );\n  inputForm.forEach((formElement) => {\n    formElement.addEventListener('submit', (evt) => {\n      evt.preventDefault();\n    });\n    setEventListeners(formElement, configValidation);\n  });\n};\n\n// @todo: Очистка валидации\nconst clearValidation = (formElement, configValidation) => {\n  const inputList = Array.from(\n    formElement.querySelectorAll(configValidation.inputSelector)\n  );\n  const buttonElement = formElement.querySelector(\n    configValidation.submitButtonSelector\n  );\n\n  inputList.textContent = '';\n\n  toggleButtonState(\n    inputList,\n    buttonElement,\n    configValidation.inactiveButtonClass\n  );\n\n  inputList.forEach((inputElement) => {\n    hideInputError(\n      formElement,\n      inputElement,\n      configValidation.inputErrorClass,\n      configValidation.errorClass\n    );\n    inputElement.setCustomValidity('');\n    inputElement.classList.remove(configValidation.inputErrorClass);\n  });\n};\n","import './pages/index.css'; // импорт главного файла стилей\nimport { createCard, likeCard } from './components/card.js';\nimport { openPopup, closePopup } from './components/modal.js';\nimport { enableValidation, clearValidation } from './components/validation.js';\nimport {\n  getUserInfo,\n  getInitialCards,\n  updateUserInfo,\n  postAddNewCard,\n  handlerDeleteCard,\n  updateUserAvatar,\n} from './components/api.js';\n\nexport { cardTemplate };\n\n// @todo: Темплейт карточки\nconst cardTemplate = document.querySelector('#card-template').content;\n\n// @todo: DOM узлы\nconst content = document.querySelector('.content');\nconst cardsContainer = content.querySelector('.places__list');\n\n// @todo: DOM узлы формы\nconst profileTitle = document.querySelector('.profile__title');\nconst profileDescription = document.querySelector('.profile__description');\nconst profileImage = document.querySelector('.profile__image');\nconst modalAvatar = document.querySelector('.popup_type_avatar');\n\n// @todo: DOM узлы попап\nconst popups = document.querySelectorAll('.popup');\nconst popupEdit = document.querySelector('.popup_type_edit');\nconst profileForm = popupEdit.querySelector('.popup__form');\nconst nameInput = profileForm.querySelector('.popup__input_type_name');\nconst jobInput = profileForm.querySelector('.popup__input_type_description');\n\nconst popupCard = document.querySelector('.popup_type_new-card');\nconst newPlaceForm = popupCard.querySelector('.popup__form');\nconst nameDataCard = newPlaceForm.querySelector('.popup__input_type_card-name');\nconst linkDataCard = newPlaceForm.querySelector('.popup__input_type_url');\n\nconst popupImage = document.querySelector('.popup_type_image');\nconst popupImg = document.querySelector('.popup__image');\nconst popupCaptionImg = document.querySelector('.popup__caption');\n\nconst editButton = document.querySelector('.profile__edit-button');\nconst addButton = document.querySelector('.profile__add-button');\n\nconst modalFormEditProfile = document.forms['edit-profile'];\nconst modalFormAddCard = document.forms['new-place'];\nconst modalFormEditAvatar = document.forms['edit-avatar'];\n\nconst popupAlert = document.querySelector('.popup_type_alert');\nconst submitDeleteCard = popupAlert.querySelector('.popup__button-alert');\n\nconst configValidation = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__button',\n  errorVisible: '.popup__error_visible',\n  inputErrorVisible: '.popup__input_type_error',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n};\n\nlet userId;\n\n// @todo: Кнопка сохранения\nconst renderLoading = (isLoading, button) => {\n  button.textContent = isLoading ? 'Сохранение...' : 'Сохранить';\n};\n\n// @todo: Удаление карточки\nconst confirmDeleteCard = (cardId) => {\n  openPopup(popupAlert);\n  popupAlert.dataset.cardId = cardId;\n};\n\nconst handlerConfirmDeleteCard = () => {\n  handlerDeleteCard(popupAlert.dataset.cardId)\n    .then((result) => {\n      console.log(result);\n      const deleteCard = document.getElementById(popupAlert.dataset.cardId);\n      deleteCard.remove();\n      closePopup(popupAlert);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\nsubmitDeleteCard.addEventListener('click', handlerConfirmDeleteCard);\n\n// @todo: Редактирование профиля\nprofileForm.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  renderLoading(true, modalFormEditProfile.querySelector('.popup__button'));\n  updateUserInfo({\n    name: modalFormEditProfile.name.value,\n    about: modalFormEditProfile.description.value,\n  })\n    .then((userInfo) => {\n      profileTitle.textContent = userInfo.name;\n      profileDescription.textContent = userInfo.about;\n      closePopup(popupEdit);\n    })\n    .catch((err) => {\n      console.log('ошибка изменения данных пользователя:', err);\n    });\n});\n\neditButton.addEventListener('click', () => {\n  profileForm.reset();\n  nameInput.value = profileTitle.textContent;\n  jobInput.value = profileDescription.textContent;\n  openPopup(popupEdit);\n  clearValidation(profileForm, configValidation);\n});\n\n// @todo: Добавление новой карточки\nnewPlaceForm.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  renderLoading(true, modalFormAddCard.querySelector('.popup__button'));\n  postAddNewCard({\n    name: nameDataCard.value,\n    link: linkDataCard.value,\n  })\n    .then((dataCard) => {\n      const cardElement = createCard({\n        userId,\n        dataCard,\n        confirmDeleteCard,\n        likeCard,\n        openPopupImage,\n      });\n      cardsContainer.prepend(cardElement);\n      newPlaceForm.reset();\n      closePopup(popupCard);\n    })\n    .catch((err) => {\n      console.log('ошибка добавления карточки:', err);\n    });\n});\n\naddButton.addEventListener('click', () => {\n  newPlaceForm.reset();\n  openPopup(popupCard);\n  clearValidation(newPlaceForm, configValidation);\n});\n\n// @todo: Обновление аватара\nconst handlerAvatarFormSubmit = (evt) => {\n  evt.preventDefault();\n  renderLoading(true, modalFormEditAvatar.querySelector('.popup__button'));\n  updateUserAvatar({\n    link: modalFormEditAvatar.link.value,\n  })\n    .then((userAvatar) => {\n      profileImage.style.backgroundImage = `url(${userAvatar.avatar})`;\n      closePopup(modalAvatar);\n    })\n    .catch((err) => {\n      console.log('ошибка добавления аватара:', err);\n    });\n};\nmodalFormEditAvatar.addEventListener('submit', handlerAvatarFormSubmit);\n\nprofileImage.addEventListener('click', () => {\n  modalFormEditAvatar.reset();\n  clearValidation(modalFormEditAvatar, configValidation);\n  openPopup(modalAvatar);\n});\n\n// @todo: Открытие попапа картинки\nconst openPopupImage = (inputName, inputLink) => {\n  popupImg.src = inputLink;\n  popupImg.alt = inputName;\n  popupCaptionImg.textContent = inputName;\n  openPopup(popupImage);\n};\n\n// @todo: Закрытие всех попапов по крестику и оверлею\npopups.forEach((popup) => {\n  popup.addEventListener('click', (evt) => {\n    if (evt.target === popup || evt.target.classList.contains('popup__close')) {\n      const modal = document.querySelector('.popup_is-opened');\n      closePopup(modal);\n    }\n  });\n});\n\n// @todo: Вывести карточки на страницу + информация пользователя\nPromise.all([getInitialCards(), getUserInfo()])\n  .then(([initialCards, userInfo]) => {\n    profileTitle.textContent = userInfo.name;\n    profileDescription.textContent = userInfo.about;\n    profileImage.src = userInfo.avatar;\n    profileImage.style.backgroundImage = `url(${userInfo.avatar})`;\n    userId = userInfo._id;\n\n    initialCards.forEach((dataCard) => {\n      const cardElement = createCard({\n        userId,\n        dataCard,\n        confirmDeleteCard,\n        likeCard,\n        openPopupImage,\n      });\n      cardsContainer.append(cardElement);\n    });\n  })\n  .catch((err) => {\n    console.log('ошибка передачи карточки:', err);\n  });\n\nenableValidation(configValidation);\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","config","baseUrl","headers","authorization","handleRes","res","ok","json","Promise","reject","concat","status","createCard","_ref","userId","dataCard","confirmDeleteCard","likeCard","openPopupImage","cardElement","cardTemplate","querySelector","cloneNode","cardImage","deleteButton","likeButton","counterLikes","id","textContent","name","src","link","alt","likes","length","some","like","_id","classList","add","owner","addEventListener","evt","remove","cardId","target","contains","fetch","method","then","deleteLike","updatedCard","catch","err","console","log","addLike","openPopup","popup","document","body","style","overflow","closeEscPopup","closePopup","removeEventListener","code","hideInputError","formElement","inputElement","configValidation","errorElement","inputErrorClass","errorClass","toggleButtonState","inputList","buttonElement","validity","valid","hasInvalidInput","inactiveButtonClass","removeAttribute","setAttribute","clearValidation","Array","from","querySelectorAll","inputSelector","submitButtonSelector","forEach","setCustomValidity","content","cardsContainer","profileTitle","profileDescription","profileImage","modalAvatar","popups","popupEdit","profileForm","nameInput","jobInput","popupCard","newPlaceForm","nameDataCard","linkDataCard","popupImage","popupImg","popupCaptionImg","editButton","addButton","modalFormEditProfile","forms","modalFormAddCard","modalFormEditAvatar","popupAlert","submitDeleteCard","formSelector","errorVisible","inputErrorVisible","renderLoading","isLoading","button","dataset","result","getElementById","userInfo","preventDefault","value","about","description","JSON","stringify","reset","prepend","avatar","userAvatar","backgroundImage","inputName","inputLink","all","_ref2","initialCards","append","patternMismatch","errorMessage","valueMissing","showInputError","validationMessage","checkInputValidity","setEventListeners","enableValidation"],"sourceRoot":""}